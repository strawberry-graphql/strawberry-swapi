generator db {
  provider  = "prisma-client-py"
  interface = "asyncio"
}

datasource db {
  provider = "sqlite"
  url      = "file:db.sqlite3"
}

model film {
  id              Int               @id @default(autoincrement())
  title           String
  episode_id      Int
  opening_crawl   String
  director        String
  producer        String
  release_date    DateTime
  film_characters film_characters[]
  film_planets    film_planets[]
  film_species    film_species[]
  film_starships  film_starships[]
  film_vehicles   film_vehicles[]
}

model film_characters {
  id        Int    @id @default(autoincrement())
  film_id   Int
  people_id Int
  film      film   @relation(fields: [film_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  people    people @relation(fields: [people_id], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@unique([film_id, people_id], map: "resources_film_characters_film_id_people_id_c2f21e7c_uniq")
  @@index([people_id], map: "resources_film_characters_people_id_7b3dfa48")
  @@index([film_id], map: "resources_film_characters_film_id_4fa44e15")
}

model film_planets {
  id        Int    @id @default(autoincrement())
  film_id   Int
  planet_id Int
  film      film   @relation(fields: [film_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  planet    planet @relation(fields: [planet_id], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@unique([film_id, planet_id], map: "resources_film_planets_film_id_planet_id_164ee67a_uniq")
  @@index([planet_id], map: "resources_film_planets_planet_id_e061e4d5")
  @@index([film_id], map: "resources_film_planets_film_id_5b15a55f")
}

model film_species {
  id         Int     @id @default(autoincrement())
  film_id    Int
  species_id Int
  film       film    @relation(fields: [film_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  species    species @relation(fields: [species_id], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@unique([film_id, species_id], map: "resources_film_species_film_id_species_id_07586afd_uniq")
  @@index([species_id], map: "resources_film_species_species_id_662bac89")
  @@index([film_id], map: "resources_film_species_film_id_a6d1f8ed")
}

model film_starships {
  id          Int      @id @default(autoincrement())
  film_id     Int
  starship_id Int
  film        film     @relation(fields: [film_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  starship    starship @relation(fields: [starship_id], references: [transport_ptr_id], onDelete: NoAction, onUpdate: NoAction)

  @@unique([film_id, starship_id], map: "resources_film_starships_film_id_starship_id_f839557e_uniq")
  @@index([starship_id], map: "resources_film_starships_starship_id_989698d1")
  @@index([film_id], map: "resources_film_starships_film_id_a64d005a")
}

model film_vehicles {
  id         Int     @id @default(autoincrement())
  film_id    Int
  vehicle_id Int
  film       film    @relation(fields: [film_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  vehicle    vehicle @relation(fields: [vehicle_id], references: [transport_ptr_id], onDelete: NoAction, onUpdate: NoAction)

  @@unique([film_id, vehicle_id], map: "resources_film_vehicles_film_id_vehicle_id_7ebfd1f1_uniq")
  @@index([vehicle_id], map: "resources_film_vehicles_vehicle_id_8c07a81f")
  @@index([film_id], map: "resources_film_vehicles_film_id_67364e37")
}

model people {
  id              Int               @id @default(autoincrement())
  name            String
  height          String
  mass            String
  hair_color      String
  skin_color      String
  eye_color       String
  birth_year      String
  gender          String
  homeworld_id    Int
  planet          planet            @relation(fields: [homeworld_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  film_characters film_characters[]
  species_people  species_people[]
  starship_pilots starship_pilots[]
  vehicle_pilots  vehicle_pilots[]

  @@index([homeworld_id], map: "resources_people_homeworld_id_d409c69c")
}

model planet {
  id              Int            @id @default(autoincrement())
  name            String
  rotation_period String
  orbital_period  String
  diameter        String
  climate         String
  gravity         String
  terrain         String
  surface_water   String
  population      String
  film_planets    film_planets[]
  people          people[]
  species         species[]
}

model species {
  id               Int              @id @default(autoincrement())
  created          DateTime
  edited           DateTime
  name             String
  classification   String
  designation      String
  average_height   String
  skin_colors      String
  hair_colors      String
  eye_colors       String
  average_lifespan String
  language         String
  homeworld_id     Int?
  planet           planet?          @relation(fields: [homeworld_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  film_species     film_species[]
  species_people   species_people[]

  @@index([homeworld_id], map: "resources_species_homeworld_id_7f0a1151")
}

model species_people {
  id         Int     @id @default(autoincrement())
  species_id Int
  people_id  Int
  people     people  @relation(fields: [people_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  species    species @relation(fields: [species_id], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@unique([species_id, people_id], map: "resources_species_people_species_id_people_id_9acbb91c_uniq")
  @@index([people_id], map: "resources_species_people_people_id_1f2cc0c1")
  @@index([species_id], map: "resources_species_people_species_id_e687ce47")
}

model starship {
  transport_ptr_id  Int               @id @default(autoincrement())
  hyperdrive_rating String
  MGLT              String
  starship_class    String
  transport         transport         @relation(fields: [transport_ptr_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  film_starships    film_starships[]
  starship_pilots   starship_pilots[]
}

model starship_pilots {
  id          Int      @id @default(autoincrement())
  starship_id Int
  people_id   Int
  people      people   @relation(fields: [people_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  starship    starship @relation(fields: [starship_id], references: [transport_ptr_id], onDelete: NoAction, onUpdate: NoAction)

  @@unique([starship_id, people_id], map: "resources_starship_pilots_starship_id_people_id_9a89d2db_uniq")
  @@index([people_id], map: "resources_starship_pilots_people_id_b442aeee")
  @@index([starship_id], map: "resources_starship_pilots_starship_id_ad343065")
}

model transport {
  id                     Int       @id @default(autoincrement())
  created                DateTime
  edited                 DateTime
  name                   String
  model                  String
  manufacturer           String
  cost_in_credits        String
  length                 String
  max_atmosphering_speed String
  crew                   String
  passengers             String
  cargo_capacity         String
  consumables            String
  starship               starship?
  vehicle                vehicle?
}

model vehicle {
  transport_ptr_id Int              @id @default(autoincrement())
  vehicle_class    String
  transport        transport        @relation(fields: [transport_ptr_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  film_vehicles    film_vehicles[]
  vehicle_pilots   vehicle_pilots[]
}

model vehicle_pilots {
  id         Int     @id @default(autoincrement())
  vehicle_id Int
  people_id  Int
  people     people  @relation(fields: [people_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  vehicle    vehicle @relation(fields: [vehicle_id], references: [transport_ptr_id], onDelete: NoAction, onUpdate: NoAction)

  @@unique([vehicle_id, people_id], map: "resources_vehicle_pilots_vehicle_id_people_id_66253b6a_uniq")
  @@index([people_id], map: "resources_vehicle_pilots_people_id_f52dc602")
  @@index([vehicle_id], map: "resources_vehicle_pilots_vehicle_id_e9a69b81")
}
